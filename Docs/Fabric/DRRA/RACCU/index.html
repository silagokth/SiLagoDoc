
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation of SiLago project">
      
      
      
        <meta name="author" content="SiLago Team">
      
      
        <link rel="canonical" href="https://silagokth.github.io/SiLagoDoc/Docs/Fabric/DRRA/RACCU/">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.4">
    
    
      
        <title>Run-time Address Constraint Computing Unit - SiLago Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.db9e7362.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#8bc34b">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Lato";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="light-green" data-md-color-accent="orange">
  
    
    <script>function __prefix(e){return new URL("../../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#run-time-address-constraint-computing-unit" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="SiLago Documentation" class="md-header__button md-logo" aria-label="SiLago Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SiLago Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Run-time Address Constraint Computing Unit
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/silagokth/SiLagoDoc/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    silagokth/SiLagoDoc
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="SiLago Documentation" class="md-nav__button md-logo" aria-label="SiLago Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    SiLago Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/silagokth/SiLagoDoc/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    silagokth/SiLagoDoc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Fabric
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Fabric" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Fabric
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Style-guide/" class="md-nav__link">
        Style Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Tool Chain
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tool Chain" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Tool Chain
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Style-guide/" class="md-nav__link">
        Style Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3" type="checkbox" id="__nav_2_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2_3">
          Vesyla
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Vesyla" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          Vesyla
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/Tutorial/" class="md-nav__link">
        Vesyla tutorial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/ProgrammingGuide/" class="md-nav__link">
        Programming Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/Instruction-Set/" class="md-nav__link">
        Instruction Set
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/Cadfg/" class="md-nav__link">
        CADFG - Control Address Data-Flow Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/Hazzard/" class="md-nav__link">
        Hazard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/ExpressionSimplification/" class="md-nav__link">
        Expression Simplification
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/DependencyAnalysis/" class="md-nav__link">
        Dependency Analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/DeadCodeElimination/" class="md-nav__link">
        DeadCodeElimination
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/Idg/" class="md-nav__link">
        IDG - Instruction Dependency Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/Scheduling/" class="md-nav__link">
        Scheduling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla/DiMArch/" class="md-nav__link">
        DiMArch Reading and Writing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_4" type="checkbox" id="__nav_2_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2_4">
          Vesyla2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Vesyla2" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_4">
          <span class="md-nav__icon md-icon"></span>
          Vesyla2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla2/Tutorial/" class="md-nav__link">
        Vesyla tutorial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla2/ProgrammingGuide/" class="md-nav__link">
        Programming Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla2/Macro/" class="md-nav__link">
        Macro Expansion Preprocess
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla2/PrimitiveFunction/" class="md-nav__link">
        Primitive Function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Vesyla2/InstructionSet/" class="md-nav__link">
        Instruction Set
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_5" type="checkbox" id="__nav_2_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2_5">
          Manas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Manas" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_5">
          <span class="md-nav__icon md-icon"></span>
          Manas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Manas/Tutorial/" class="md-nav__link">
        Manas Tutorial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Manas/ProgrammingGuide/" class="md-nav__link">
        Programming Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ToolChain/Manas/InstructionSet/" class="md-nav__link">
        Instruction Set
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../About/About/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../About/License/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    Function
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specification" class="md-nav__link">
    Specification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-instructions" class="md-nav__link">
    Related Instructions
  </a>
  
    <nav class="md-nav" aria-label="Related Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raccu-instruction" class="md-nav__link">
    RACCU instruction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop_header-instruction" class="md-nav__link">
    LOOP_HEADER instruction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop_tail-instruction" class="md-nav__link">
    LOOP_TAIL instruction
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface" class="md-nav__link">
    Interface
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/silagokth/SiLagoDoc/edit/master/docs/Docs/Fabric/DRRA/RACCU.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="run-time-address-constraint-computing-unit">Run-time Address Constraint Computing Unit</h1>
<h2 id="function">Function</h2>
<p>Run-time Address Constraint Computing Unit (RACCU) is used for computing address
constraint for Address Generation Unit (AGU). AGU can deal with maximum 2-level
affine address function. Affine address function is a function that can be expressed
by equation below:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\begin{align}
y = ax+b
\end{align} 
</div>
<script type="math/tex; mode=display">
\begin{align}
y = ax+b
\end{align} 
</script>
</div>
<p>where <code>a</code> and <code>b</code> are constraints.</p>
<p>2-level affine address function can then be expressed as:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\begin{align}
y = c(ax+b)+d
\end{align} 
</div>
<script type="math/tex; mode=display">
\begin{align}
y = c(ax+b)+d
\end{align} 
</script>
</div>
<p>where <code>a</code> ,<code>b</code>, <code>c</code> and <code>d</code> are constraints.</p>
<p>Address constraint can be immediate value or a number generated at run-time according
to a given function. The resources which deal with the constraint generation is
the RACCU.</p>
<h2 id="specification">Specification</h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Old RACCU implementation.</p>
</div>
<p>RACCU is a unit inside Sequencer.</p>
<p>It has a register file of default depth <code>N=8</code>. Contraints and temporary
variables will be stored inside this register file. The data register is always
exposed to Sequencer to read. Another register file in RACCU is
used to manage the loops. The depth depends on maximum nested loop RACCU can handle,
by default it's <code>4</code>. Each entry in loop management register file has 3 fields:</p>
<ol>
<li>Loop id</li>
<li>Loop counter</li>
<li>Loop end flag</li>
</ol>
<p>The loop id will be identify the entry location in the loop management register
file. Loop counter will be initialized by the first LOOP_HEADER instruction and
be changed periodically by LOOP_TAIL instruction. The comparison between the loop
conter and loop bound is carried out by LOOP_HEADER instruction. If they are equal,
loop end flag will be set to <code>true</code> and exits the loop.</p>
<p>RACCU has a computation unit which is similar to a mini-DPU. It has 5 working modes.
All of them are binary operations. They are:</p>
<ul>
<li>(0) RACCU_MODE_IDLE</li>
<li>(1) RACCU_MODE_LOOP_H</li>
<li>(2) RACCU_MODE_LOOP_T</li>
<li>(3) RACCU_MODE_ADD</li>
<li>(4) RACCU_MODE_SUB</li>
<li>(5) RACCU_MODE_SHIFT_L</li>
<li>(6) RACCU_MODE_SHIFT_R</li>
<li>(7) RACCU_MODE_ADD_WITH_LOOP_INDEX</li>
</ul>
<p>Operands of each mode can be either immediate value from instruction or data from
RACCU register whoes address is specified by the instruction. A bit is used to
distinguish the operand origin.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>New RACCU implementation.</p>
</div>
<p>RACCU is a unit inside Sequencer.</p>
<p>It has a register file of default depth <code>N=8</code>. Contraints, temporary
variables and loop iterators will be stored inside this register file.
The data register is always exposed to Sequencer to read. Loop iterator will be
assigned from the beginning of the register file according to the order of loop
while RACCU variables will be assigned from the end of register file. Once the
loop iterators or the RACCU variables are not needed, they can be freed by moving
the stack/heap pointer 1 position back. The assignment of register location is
managed by the Vesyla compiler.</p>
<p>RACCU has a computation unit which is similar to a mini-DPU. It has 8 working modes.
All of them are binary operations. They are:</p>
<ul>
<li>(0) RACCU_MODE_IDLE</li>
<li>(1) RACCU_MODE_LOOP_H</li>
<li>(2) RACCU_MODE_LOOP_T</li>
<li>(3) RACCU_MODE_ADD</li>
<li>(4) RACCU_MODE_SUB</li>
<li>(5) RACCU_MODE_SHIFT_L</li>
<li>(6) RACCU_MODE_SHIFT_R</li>
<li>(7) RACCU_MODE_LOG2</li>
</ul>
<p>Operands of each mode can be either immediate value from instruction or data from
RACCU register whoes address is specified by the instruction. A bit is used to
distinguish the operand origin.</p>
<h2 id="related-instructions">Related Instructions</h2>
<h3 id="raccu-instruction">RACCU instruction</h3>
<h3 id="loop_header-instruction">LOOP_HEADER instruction</h3>
<h3 id="loop_tail-instruction">LOOP_TAIL instruction</h3>
<h2 id="interface">Interface</h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Old RACCU implementation.</p>
</div>
<table>
<thead>
<tr>
<th>Signal</th>
<th>I/O</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clk</td>
<td>in</td>
<td>std_logic</td>
<td>Clock</td>
</tr>
<tr>
<td>rst</td>
<td>in</td>
<td>std_logic</td>
<td>Reset, active low</td>
</tr>
<tr>
<td>op1_sd</td>
<td>in</td>
<td>std_logic</td>
<td>Type of operand 1, 0-immediate, 1-reference</td>
</tr>
<tr>
<td>op1</td>
<td>in</td>
<td>std_logic_vector 8bits</td>
<td>Operand 1 value / Operand 1 address</td>
</tr>
<tr>
<td>op2_sd</td>
<td>in</td>
<td>std_logic</td>
<td>Type of operand 2, 0-immediate, 1-reference</td>
</tr>
<tr>
<td>op2</td>
<td>in</td>
<td>std_logic_vector 8bits</td>
<td>Operand 2 value / Operand 2 address</td>
</tr>
<tr>
<td>cfg_mode</td>
<td>in</td>
<td>std_logic_vector 3bits</td>
<td>Mode of RACCU computation unit</td>
</tr>
<tr>
<td>result_addr</td>
<td>in</td>
<td>std_logic_vector 3bits</td>
<td>Result address in data_reg</td>
</tr>
<tr>
<td>data_reg</td>
<td>out</td>
<td>raccu_reg_out_ty</td>
<td>Data register output</td>
</tr>
<tr>
<td>loop_reg</td>
<td>out</td>
<td>raccu_loop_array_ty</td>
<td>Loop register output</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>New RACCU implementation.</p>
</div>
<table>
<thead>
<tr>
<th>Signal</th>
<th>I/O</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clk</td>
<td>in</td>
<td>std_logic</td>
<td>Clock</td>
</tr>
<tr>
<td>rst</td>
<td>in</td>
<td>std_logic</td>
<td>Reset, active low</td>
</tr>
<tr>
<td>op1_sd</td>
<td>in</td>
<td>std_logic</td>
<td>Type of operand 1, 0-immediate, 1-reference</td>
</tr>
<tr>
<td>op1</td>
<td>in</td>
<td>std_logic_vector 8bits</td>
<td>Operand 1 value / Operand 1 address</td>
</tr>
<tr>
<td>op2_sd</td>
<td>in</td>
<td>std_logic</td>
<td>Type of operand 2, 0-immediate, 1-reference</td>
</tr>
<tr>
<td>op2</td>
<td>in</td>
<td>std_logic_vector 8bits</td>
<td>Operand 2 value / Operand 2 address</td>
</tr>
<tr>
<td>cfg_mode</td>
<td>in</td>
<td>std_logic_vector 3bits</td>
<td>Mode of RACCU computation unit</td>
</tr>
<tr>
<td>result_addr</td>
<td>in</td>
<td>std_logic_vector 3bits</td>
<td>Result address in data_reg</td>
</tr>
<tr>
<td>data_reg</td>
<td>out</td>
<td>raccu_reg_out_ty</td>
<td>Data register output</td>
</tr>
</tbody>
</table>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.1e84347e.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>